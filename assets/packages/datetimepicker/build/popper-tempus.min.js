!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Popper={})}(this,function(t){"use strict";function b(t){return null==t?window:"[object Window]"!==t.toString()?(e=t.ownerDocument)&&e.defaultView||window:t;var e}function f(t){return t instanceof b(t).Element||t instanceof Element}function l(t){return t instanceof b(t).HTMLElement||t instanceof HTMLElement}function n(t){return"undefined"!=typeof ShadowRoot&&(t instanceof b(t).ShadowRoot||t instanceof ShadowRoot)}var E=Math.max,A=Math.min,S=Math.round;function c(t,e){void 0===e&&(e=!1);var i=t.getBoundingClientRect(),s=1,o=1;return l(t)&&e&&(e=t.offsetHeight,0<(t=t.offsetWidth)&&(s=S(i.width)/t||1),0<e&&(o=S(i.height)/e||1)),{width:i.width/s,height:i.height/o,top:i.top/o,right:i.right/s,bottom:i.bottom/o,left:i.left/s,x:i.left/s,y:i.top/o}}function p(t){t=b(t);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function d(t){return t?(t.nodeName||"").toLowerCase():null}function D(t){return((f(t)?t.ownerDocument:t.document)||window.document).documentElement}function h(t){return c(D(t)).left+p(t).scrollLeft}function w(t){return b(t).getComputedStyle(t)}function u(t){var t=w(t),e=t.overflow,i=t.overflowX,t=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+t+i)}function y(t,e,i){void 0===i&&(i=!1);var s=l(e),o=l(e)&&(a=(o=e).getBoundingClientRect(),n=S(a.width)/o.offsetWidth||1,a=S(a.height)/o.offsetHeight||1,1!==n||1!==a),n=D(e),a=c(t,o),t={scrollLeft:0,scrollTop:0},r={x:0,y:0};return!s&&i||("body"===d(e)&&!u(n)||(t=(s=e)!==b(s)&&l(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:p(s)),l(e)?((r=c(e,!0)).x+=e.clientLeft,r.y+=e.clientTop):n&&(r.x=h(n))),{x:a.left+t.scrollLeft-r.x,y:a.top+t.scrollTop-r.y,width:a.width,height:a.height}}function U(t){var e=c(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function a(t){return"html"===d(t)?t:t.assignedSlot||t.parentNode||(n(t)?t.host:null)||D(t)}function v(t,e){void 0===e&&(e=[]);var i=function t(e){return 0<=["html","body","#document"].indexOf(d(e))?e.ownerDocument.body:l(e)&&u(e)?e:t(a(e))}(t),t=i===(null==(t=t.ownerDocument)?void 0:t.body),s=b(i),s=t?[s].concat(s.visualViewport||[],u(i)?i:[]):i,i=e.concat(s);return t?i:i.concat(v(a(s)))}function o(t){return l(t)&&"fixed"!==w(t).position?t.offsetParent:null}function H(t){for(var e,i=b(t),s=o(t);s&&(e=s,0<=["table","td","th"].indexOf(d(e)))&&"static"===w(s).position;)s=o(s);return(!s||"html"!==d(s)&&("body"!==d(s)||"static"!==w(s).position))&&(s||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),i=-1!==navigator.userAgent.indexOf("Trident");if(i&&l(t)&&"fixed"===w(t).position)return null;var s=a(t);for(n(s)&&(s=s.host);l(s)&&["html","body"].indexOf(d(s))<0;){var o=w(s);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return s;s=s.parentNode}return null}(t))||i}var x="top",M="bottom",O="right",L="left",P="auto",V=[x,M,O,L],j="start",k="end",m="clippingParents",g="viewport",C="popper",_="reference",I=V.reduce(function(t,e){return t.concat([e+"-"+j,e+"-"+k])},[]),N=[].concat(V,[P]).reduce(function(t,e){return t.concat([e,e+"-"+j,e+"-"+k])},[]),B=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function q(t){var i=new Map,s=new Set,o=[];return t.forEach(function(t){i.set(t.name,t)}),t.forEach(function(t){s.has(t.name)||!function e(t){s.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){s.has(t)||(t=i.get(t))&&e(t)}),o.push(t)}(t)}),o}function z(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return[].concat(i).reduce(function(t,e){return t.replace(/%s/,e)},t)}var W='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',$='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',F=["name","enabled","phase","fn","effect","requires","options"];function T(t){return t.split("-")[0]}function r(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&n(i)){var s=e;do{if(s&&t.isSameNode(s))return!0}while(s=s.parentNode||s.host)}return!1}function Y(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function R(t,e){return e===g?Y((s=b(i=t),o=D(i),s=s.visualViewport,n=o.clientWidth,o=o.clientHeight,r=a=0,s&&(n=s.width,o=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=s.offsetLeft,r=s.offsetTop)),{width:n,height:o,x:a+h(i),y:r})):f(e)?((n=c(s=e)).top=n.top+s.clientTop,n.left=n.left+s.clientLeft,n.bottom=n.top+s.clientHeight,n.right=n.left+s.clientWidth,n.width=s.clientWidth,n.height=s.clientHeight,n.x=n.left,n.y=n.top,n):Y((o=D(t),a=D(o),i=p(o),r=null==(r=o.ownerDocument)?void 0:r.body,e=E(a.scrollWidth,a.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),t=E(a.scrollHeight,a.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+h(o),i=-i.scrollTop,"rtl"===w(r||a).direction&&(o+=E(a.clientWidth,r?r.clientWidth:0)-e),{width:e,height:t,x:o,y:i}));var i,s,o,n,a,r}function G(i,t,e){var s,o="clippingParents"===t?(n=v(a(o=i)),f(s=0<=["absolute","fixed"].indexOf(w(o).position)&&l(o)?H(o):o)?n.filter(function(t){return f(t)&&r(t,s)&&"body"!==d(t)}):[]):[].concat(t),n=[].concat(o,[e]),t=n[0],e=n.reduce(function(t,e){e=R(i,e);return t.top=E(e.top,t.top),t.right=A(e.right,t.right),t.bottom=A(e.bottom,t.bottom),t.left=E(e.left,t.left),t},R(i,t));return e.width=e.right-e.left,e.height=e.bottom-e.top,e.x=e.left,e.y=e.top,e}function J(t){return t.split("-")[1]}function K(t){return 0<=["top","bottom"].indexOf(t)?"x":"y"}function Q(t){var e,i=t.reference,s=t.element,t=t.placement,o=t?T(t):null,t=t?J(t):null,n=i.x+i.width/2-s.width/2,a=i.y+i.height/2-s.height/2;switch(o){case x:e={x:n,y:i.y-s.height};break;case M:e={x:n,y:i.y+i.height};break;case O:e={x:i.x+i.width,y:a};break;case L:e={x:i.x-s.width,y:a};break;default:e={x:i.x,y:i.y}}var r=o?K(o):null;if(null!=r){var l="y"===r?"height":"width";switch(t){case j:e[r]=e[r]-(i[l]/2-s[l]/2);break;case k:e[r]=e[r]+(i[l]/2-s[l]/2)}}return e}function X(){return{top:0,right:0,bottom:0,left:0}}function Z(t){return Object.assign({},X(),t)}function tt(i,t){return t.reduce(function(t,e){return t[e]=i,t},{})}function et(t,e){var s,e=e=void 0===e?{}:e,i=e.placement,i=void 0===i?t.placement:i,o=e.boundary,o=void 0===o?m:o,n=e.rootBoundary,n=void 0===n?g:n,a=e.elementContext,a=void 0===a?C:a,r=e.altBoundary,r=void 0!==r&&r,e=e.padding,e=void 0===e?0:e,e=Z("number"!=typeof e?e:tt(e,V)),l=t.rects.popper,r=t.elements[r?a===C?_:C:a],r=G(f(r)?r:r.contextElement||D(t.elements.popper),o,n),o=c(t.elements.reference),n=Q({reference:o,element:l,strategy:"absolute",placement:i}),l=Y(Object.assign({},l,n)),n=a===C?l:o,d={top:r.top-n.top+e.top,bottom:n.bottom-r.bottom+e.bottom,left:r.left-n.left+e.left,right:n.right-r.right+e.right},l=t.modifiersData.offset;return a===C&&l&&(s=l[i],Object.keys(d).forEach(function(t){var e=0<=[O,M].indexOf(t)?1:-1,i=0<=[x,M].indexOf(t)?"y":"x";d[t]+=s[i]*e})),d}var it="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",st={placement:"bottom",modifiers:[],strategy:"absolute"};function ot(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function e(t){var t=t=void 0===t?{}:t,e=t.defaultModifiers,u=void 0===e?[]:e,e=t.defaultOptions,m=void 0===e?st:e;return function(a,r,e){void 0===e&&(e=m);var i,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},st,m),modifiersData:{},elements:{reference:a,popper:r},attributes:{},styles:{}},d=[],c=!1,p={state:l,setOptions:function(t){var i,e,s,o,n,t="function"==typeof t?t(l.options):t,t=(h(),l.options=Object.assign({},m,l.options,t),l.scrollParents={reference:f(a)?v(a):a.contextElement?v(a.contextElement):[],popper:v(r)},t=[].concat(u,l.options.modifiers),e=t.reduce(function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t},{}),t=Object.keys(e).map(function(t){return e[t]}),i=q(t),B.reduce(function(t,e){return t.concat(i.filter(function(t){return t.phase===e}))},[])),t=(l.orderedModifiers=t.filter(function(t){return t.enabled}),t=[].concat(t,l.options.modifiers),o=function(t){return t.name},n=new Set,t.filter(function(t){t=o(t);if(!n.has(t))return n.add(t),!0})),t=((s=t).forEach(function(i){[].concat(Object.keys(i),F).filter(function(t,e,i){return i.indexOf(t)===e}).forEach(function(t){switch(t){case"name":"string"!=typeof i.name&&console.error(z(W,String(i.name),'"name"','"string"','"'+String(i.name)+'"'));break;case"enabled":"boolean"!=typeof i.enabled&&console.error(z(W,i.name,'"enabled"','"boolean"','"'+String(i.enabled)+'"'));break;case"phase":B.indexOf(i.phase)<0&&console.error(z(W,i.name,'"phase"',"either "+B.join(", "),'"'+String(i.phase)+'"'));break;case"fn":"function"!=typeof i.fn&&console.error(z(W,i.name,'"fn"','"function"','"'+String(i.fn)+'"'));break;case"effect":null!=i.effect&&"function"!=typeof i.effect&&console.error(z(W,i.name,'"effect"','"function"','"'+String(i.fn)+'"'));break;case"requires":null==i.requires||Array.isArray(i.requires)||console.error(z(W,i.name,'"requires"','"array"','"'+String(i.requires)+'"'));break;case"requiresIfExists":Array.isArray(i.requiresIfExists)||console.error(z(W,i.name,'"requiresIfExists"','"array"','"'+String(i.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+i.name+'" modifier, valid properties are '+F.map(function(t){return'"'+t+'"'}).join(", ")+'; but "'+t+'" was provided.')}i.requires&&i.requires.forEach(function(e){null==s.find(function(t){return t.name===e})&&console.error(z($,String(i.name),e,e))})})}),T(l.options.placement)===P&&(l.orderedModifiers.find(function(t){return"flip"===t.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))),w(r));return[t.marginTop,t.marginRight,t.marginBottom,t.marginLeft].some(function(t){return parseFloat(t)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),l.orderedModifiers.forEach(function(t){var e=t.name,i=t.options,t=t.effect;"function"==typeof t&&(t=t({state:l,name:e,instance:p,options:void 0===i?{}:i}),d.push(t||function(){}))}),p.update()},forceUpdate:function(){if(!c){var t=l.elements,e=t.reference,t=t.popper;if(ot(e,t)){l.rects={reference:y(e,H(t),"fixed"===l.options.strategy),popper:U(t)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(t){return l.modifiersData[t.name]=Object.assign({},t.data)});for(var i,s,o,n=0,a=0;a<l.orderedModifiers.length;a++){if(100<(n+=1)){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}!0!==l.reset?(i=(o=l.orderedModifiers[a]).fn,s=o.options,o=o.name,"function"==typeof i&&(l=i({state:l,options:void 0===s?{}:s,name:o,instance:p})||l)):(l.reset=!1,a=-1)}}else console.error(it)}},update:(i=function(){return new Promise(function(t){p.forceUpdate(),t(l)})},function(){return s=s||new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(i())})})}),destroy:function(){h(),c=!0}};return ot(a,r)?p.setOptions(e).then(function(t){!c&&e.onFirstUpdate&&e.onFirstUpdate(t)}):console.error(it),p;function h(){d.forEach(function(t){return t()}),d=[]}}}var nt={passive:!0};var i={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,s=(t=t.options).scroll,o=void 0===s||s,n=void 0===(s=t.resize)||s,a=b(e.elements.popper),r=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&r.forEach(function(t){t.addEventListener("scroll",i.update,nt)}),n&&a.addEventListener("resize",i.update,nt),function(){o&&r.forEach(function(t){t.removeEventListener("scroll",i.update,nt)}),n&&a.removeEventListener("resize",i.update,nt)}},data:{}};var s={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,t=t.name;e.modifiersData[t]=Q({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},at={top:"auto",right:"auto",bottom:"auto",left:"auto"};function rt(t){var e,i,s,c=t.popper,p=t.popperRect,o=t.placement,n=t.variation,a=t.offsets,h=t.position,u=t.gpuAcceleration,m=t.adaptive,f=t.roundOffsets,t=t.isFixed,r=a.x,r=void 0===r?0:r,l=a.y,l=void 0===l?0:l,y="function"==typeof f?f({x:r,y:l}):{x:r,y:l},y=(r=y.x,l=y.y,a.hasOwnProperty("x")),a=a.hasOwnProperty("y"),v=L,g=x,d=window,c=(m&&(i="clientHeight",e="clientWidth",(s=H(c))===b(c)&&"static"!==w(s=D(c)).position&&"absolute"===h&&(i="scrollHeight",e="scrollWidth"),o!==x&&(o!==L&&o!==O||n!==k)||(g=M,l=(l-((t&&s===d&&d.visualViewport?d.visualViewport.height:s[i])-p.height))*(u?1:-1)),o!==L&&(o!==x&&o!==M||n!==k)||(v=O,r=(r-((t&&s===d&&d.visualViewport?d.visualViewport.width:s[e])-p.width))*(u?1:-1))),Object.assign({position:h},m&&at)),t=!0===f?(o=(i={x:r,y:l}).x,i=i.y,n=window.devicePixelRatio||1,{x:S(o*n)/n||0,y:S(i*n)/n||0}):{x:r,y:l};return r=t.x,l=t.y,u?Object.assign({},c,((s={})[g]=a?"0":"",s[v]=y?"0":"",s.transform=(d.devicePixelRatio||1)<=1?"translate("+r+"px, "+l+"px)":"translate3d("+r+"px, "+l+"px, 0)",s)):Object.assign({},c,((e={})[g]=a?l+"px":"",e[v]=y?r+"px":"",e.transform="",e))}var lt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,t=t.options,i=void 0===(i=t.gpuAcceleration)||i,s=void 0===(s=t.adaptive)||s,t=void 0===(t=t.roundOffsets)||t,o=w(e.elements.popper).transitionProperty||"",i=(s&&["transform","top","right","bottom","left"].some(function(t){return 0<=o.indexOf(t)})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" ")),{placement:T(e.placement),variation:J(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy});null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,rt(Object.assign({},i,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:t})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,rt(Object.assign({},i,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:t})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var dt={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var o=t.state;Object.keys(o.elements).forEach(function(t){var e=o.styles[t]||{},i=o.attributes[t]||{},s=o.elements[t];l(s)&&d(s)&&(Object.assign(s.style,e),Object.keys(i).forEach(function(t){var e=i[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var s=t.state,o={popper:{position:s.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(s.elements.popper.style,o.popper),s.styles=o,s.elements.arrow&&Object.assign(s.elements.arrow.style,o.arrow),function(){Object.keys(s.elements).forEach(function(t){var e=s.elements[t],i=s.attributes[t]||{},t=Object.keys((s.styles.hasOwnProperty(t)?s.styles:o)[t]).reduce(function(t,e){return t[e]="",t},{});l(e)&&d(e)&&(Object.assign(e.style,t),Object.keys(i).forEach(function(t){e.removeAttribute(t)}))})}},requires:["computeStyles"]};var ct={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var a=t.state,e=t.options,t=t.name,r=void 0===(e=e.offset)?[0,0]:e,e=N.reduce(function(t,e){var i,s,o,n;return t[e]=(e=e,i=a.rects,s=r,o=T(e),n=0<=[L,x].indexOf(o)?-1:1,e=(i="function"==typeof s?s(Object.assign({},i,{placement:e})):s)[0]||0,s=(i[1]||0)*n,0<=[L,O].indexOf(o)?{x:s,y:e}:{x:e,y:s}),t},{}),i=(s=e[a.placement]).x,s=s.y;null!=a.modifiersData.popperOffsets&&(a.modifiersData.popperOffsets.x+=i,a.modifiersData.popperOffsets.y+=s),a.modifiersData[t]=e}},pt={left:"right",right:"left",bottom:"top",top:"bottom"};function ht(t){return t.replace(/left|right|bottom|top/g,function(t){return pt[t]})}var ut={start:"end",end:"start"};function mt(t){return t.replace(/start|end/g,function(t){return ut[t]})}var ft={name:"flip",enabled:!0,phase:"main",fn:function(t){var p=t.state,e=t.options,t=t.name;if(!p.modifiersData[t]._skip){for(var i=e.mainAxis,d=void 0===i||i,i=e.altAxis,c=void 0===i||i,i=e.fallbackPlacements,h=e.padding,u=e.boundary,m=e.rootBoundary,f=e.altBoundary,s=e.flipVariations,y=void 0===s||s,v=e.allowedAutoPlacements,s=p.options.placement,e=T(s),i=i||(e===s||!y?[ht(s)]:function(t){if(T(t)===P)return[];var e=ht(t);return[mt(t),e,mt(e)]}(s)),o=[s].concat(i).reduce(function(t,e){return t.concat(T(e)===P?(i=p,s=(t=t=void 0===(t={placement:e,boundary:u,rootBoundary:m,padding:h,flipVariations:y,allowedAutoPlacements:v})?{}:t).placement,o=t.boundary,n=t.rootBoundary,a=t.padding,r=t.flipVariations,c=void 0===(t=t.allowedAutoPlacements)?N:t,l=J(s),t=l?r?I:I.filter(function(t){return J(t)===l}):V,0===(s=t.filter(function(t){return 0<=c.indexOf(t)})).length&&(s=t,console.error(["Popper: The `allowedAutoPlacements` option did not allow any","placements. Ensure the `placement` option matches the variation","of the allowed placements.",'For example, "auto" cannot be used to allow "bottom-start".','Use "auto-start" instead.'].join(" "))),d=s.reduce(function(t,e){return t[e]=et(i,{placement:e,boundary:o,rootBoundary:n,padding:a})[T(e)],t},{}),Object.keys(d).sort(function(t,e){return d[t]-d[e]})):e);var i,s,o,n,a,r,c,l,d},[]),g=p.rects.reference,b=p.rects.popper,w=new Map,S=!0,n=o[0],D=0;D<o.length;D++){var a=o[D],k=T(a),C=J(a)===j,r=0<=[x,M].indexOf(k),l=r?"width":"height",_=et(p,{placement:a,boundary:u,rootBoundary:m,altBoundary:f,padding:h}),r=r?C?O:L:C?M:x,C=(g[l]>b[l]&&(r=ht(r)),ht(r)),l=[];if(d&&l.push(_[k]<=0),c&&l.push(_[r]<=0,_[C]<=0),l.every(function(t){return t})){n=a,S=!1;break}w.set(a,l)}if(S)for(var E=y?3:1;0<E;E--)if("break"===function(e){var t=o.find(function(t){t=w.get(t);if(t)return t.slice(0,e).every(function(t){return t})});if(t)return n=t,"break"}(E))break;p.placement!==n&&(p.modifiersData[t]._skip=!0,p.placement=n,p.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yt(t,e,i){return E(t,A(e,i))}var vt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(c){var p,t,e,h,i,u,s,m,o,n=c.state,a=c.options,c=c.name,r=void 0===(r=a.mainAxis)||r,f=void 0!==(f=a.altAxis)&&f,y=a.boundary,v=a.rootBoundary,g=a.altBoundary,l=a.padding,b=void 0===(b=a.tether)||b,a=void 0===(a=a.tetherOffset)?0:a,y=et(n,{boundary:y,rootBoundary:v,padding:l,altBoundary:g}),v=T(n.placement),g=!(l=J(n.placement)),d=K(v),w="x"===d?"y":"x",S=n.modifiersData.popperOffsets,D=n.rects.reference,k=n.rects.popper,a="number"==typeof(a="function"==typeof a?a(Object.assign({},n.rects,{placement:n.placement})):a)?{mainAxis:a,altAxis:a}:Object.assign({mainAxis:0,altAxis:0},a),C=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,_={x:0,y:0};S&&(r&&(r="y"===d?"height":"width",u=(s=S[d])+y[t="y"===d?x:L],m=s-y[o="y"===d?M:O],p=b?-k[r]/2:0,h=(l===j?D:k)[r],l=l===j?-k[r]:-D[r],i=n.elements.arrow,i=b&&i?U(i):{width:0,height:0},t=(e=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:X())[t],e=e[o],o=yt(0,D[r],i[r]),i=g?D[r]/2-p-o-t-a.mainAxis:h-o-t-a.mainAxis,h=g?-D[r]/2+p+o+e+a.mainAxis:l+o+e+a.mainAxis,g=(t=n.elements.arrow&&H(n.elements.arrow))?"y"===d?t.clientTop||0:t.clientLeft||0:0,l=s+h-(p=null!=(r=null==C?void 0:C[d])?r:0),o=yt(b?A(u,s+i-p-g):u,s,b?E(m,l):m),S[d]=o,_[d]=o-s),f&&(e="y"==w?"height":"width",h=(t=S[w])+y["x"===d?x:L],r=t-y["x"===d?M:O],i=-1!==[x,L].indexOf(v),g=null!=(p=null==C?void 0:C[w])?p:0,u=i?h:t-D[e]-k[e]-g+a.altAxis,l=i?t+D[e]+k[e]-g-a.altAxis:r,s=b&&i?(m=yt(m=u,t,o=l),o<m?o:m):yt(b?u:h,t,b?l:r),S[w]=s,_[w]=s-t),n.modifiersData[c]=_)},requiresIfExists:["offset"]};var gt={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i,s,o,n=t.state,c=t.name,t=t.options,a=n.elements.arrow,r=n.modifiersData.popperOffsets,l=K(d=T(n.placement)),d=0<=[L,O].indexOf(d)?"height":"width";a&&r&&(t=t.padding,i=n,i=Z("number"!=typeof(t="function"==typeof t?t(Object.assign({},i.rects,{placement:i.placement})):t)?t:tt(t,V)),t=U(a),o="y"===l?x:L,s="y"===l?M:O,e=n.rects.reference[d]+n.rects.reference[l]-r[l]-n.rects.popper[d],r=r[l]-n.rects.reference[l],a=(a=H(a))?"y"===l?a.clientHeight||0:a.clientWidth||0:0,o=i[o],i=a-t[d]-i[s],o=yt(o,s=a/2-t[d]/2+(e/2-r/2),i),n.modifiersData[c]=((a={})[l]=o,a.centerOffset=o-s,a))},effect:function(t){var e=t.state;null!=(t=void 0===(t=t.options.element)?"[data-popper-arrow]":t)&&("string"==typeof t&&!(t=e.elements.popper.querySelector(t))||(l(t)||console.error(['Popper: "arrow" element must be an HTMLElement (not an SVGElement).',"To use an SVG arrow, wrap it in an HTMLElement that will be used as","the arrow."].join(" ")),r(e.elements.popper,t)?e.elements.arrow=t:console.error(['Popper: "arrow" modifier\'s `element` must be a child of the popper',"element."].join(" "))))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function bt(t,e,i){return{top:t.top-e.height-(i=void 0===i?{x:0,y:0}:i).y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function wt(e){return[x,O,M,L].some(function(t){return 0<=e[t]})}var St={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,t=t.name,i=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,n=et(e,{elementContext:"reference"}),a=et(e,{altBoundary:!0}),n=bt(n,i),i=bt(a,s,o),a=wt(n),s=wt(i);e.modifiersData[t]={referenceClippingOffsets:n,popperEscapeOffsets:i,isReferenceHidden:a,hasPopperEscaped:s},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":a,"data-popper-escaped":s})}},Dt=e({defaultModifiers:[i,s,lt,dt]}),kt=[i,s,lt,dt,ct,ft,vt,gt,St],Ct=e({defaultModifiers:kt});t.applyStyles=dt,t.arrow=gt,t.computeStyles=lt,t.createPopper=Ct,t.createPopperLite=Dt,t.defaultModifiers=kt,t.detectOverflow=et,t.eventListeners=i,t.flip=ft,t.hide=St,t.offset=ct,t.popperGenerator=e,t.popperOffsets=s,t.preventOverflow=vt,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@popperjs/core")):"function"==typeof define&&define.amd?define(["exports","@popperjs/core"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tempusDominus={},t.Popper)}(this,function(d,n){"use strict";var a,t;d.Unit=void 0,(t=d.Unit||(d.Unit={})).seconds="seconds",t.minutes="minutes",t.hours="hours",t.date="date",t.month="month",t.year="year";const r={month:"2-digit",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0},u={hour:"2-digit",hour12:!1},m=t=>{switch(t){case"date":return{dateStyle:"short"};case"month":return{month:"numeric",year:"numeric"};case"year":return{year:"numeric"}}};class l extends Date{constructor(){super(...arguments),this.locale="default",this.nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],this.leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335]}setLocale(t){return this.locale=t,this}static convert(t,e="default"){if(!t)throw new Error("A date is required");return new l(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()).setLocale(e)}get clone(){return new l(this.year,this.month,this.date,this.hours,this.minutes,this.seconds,this.getMilliseconds()).setLocale(this.locale)}startOf(e,i=0){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);switch(e){case"seconds":this.setMilliseconds(0);break;case"minutes":this.setSeconds(0,0);break;case"hours":this.setMinutes(0,0,0);break;case"date":this.setHours(0,0,0,0);break;case"weekDay":if(this.startOf(d.Unit.date),this.weekDay===i)break;let t=this.weekDay;0!==i&&0===this.weekDay&&(t=8-i),this.manipulate(i-t,d.Unit.date);break;case"month":this.startOf(d.Unit.date),this.setDate(1);break;case"year":this.startOf(d.Unit.date),this.setMonth(0,1)}return this}endOf(t,e=0){if(void 0===this[t])throw new Error(`Unit '${t}' is not valid`);switch(t){case"seconds":this.setMilliseconds(999);break;case"minutes":this.setSeconds(59,999);break;case"hours":this.setMinutes(59,59,999);break;case"date":this.setHours(23,59,59,999);break;case"weekDay":this.endOf(d.Unit.date),this.manipulate(6+e-this.weekDay,d.Unit.date);break;case"month":this.endOf(d.Unit.date),this.manipulate(1,d.Unit.month),this.setDate(0);break;case"year":this.endOf(d.Unit.date),this.manipulate(1,d.Unit.year),this.setDate(0)}return this}manipulate(t,e){if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this[e]+=t,this}format(t,e=this.locale){return new Intl.DateTimeFormat(e,t).format(this)}isBefore(t,e){if(!e)return this.valueOf()<t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()<t.clone.startOf(e).valueOf()}isAfter(t,e){if(!e)return this.valueOf()>t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return this.clone.startOf(e).valueOf()>t.clone.startOf(e).valueOf()}isSame(t,e){if(!e)return this.valueOf()===t.valueOf();if(void 0===this[e])throw new Error(`Unit '${e}' is not valid`);return t=l.convert(t),this.clone.startOf(e).valueOf()===t.startOf(e).valueOf()}isBetween(t,e,i,s="()"){if(i&&void 0===this[i])throw new Error(`Unit '${i}' is not valid`);var o="("===s[0],s=")"===s[1];return(o?this.isAfter(t,i):!this.isBefore(t,i))&&(s?this.isBefore(e,i):!this.isAfter(e,i))||(o?this.isBefore(t,i):!this.isAfter(t,i))&&(s?this.isAfter(e,i):!this.isBefore(e,i))}parts(t=this.locale,e={dateStyle:"full",timeStyle:"long"}){const i={};return new Intl.DateTimeFormat(t,e).formatToParts(this).filter(t=>"literal"!==t.type).forEach(t=>i[t.type]=t.value),i}get seconds(){return this.getSeconds()}set seconds(t){this.setSeconds(t)}get secondsFormatted(){return this.parts(void 0,r).second}get minutes(){return this.getMinutes()}set minutes(t){this.setMinutes(t)}get minutesFormatted(){return this.parts(void 0,r).minute}get hours(){return this.getHours()}set hours(t){this.setHours(t)}get hoursFormatted(){let t=this.parts(void 0,u).hour;return t="24"===t?"00":t}get twelveHoursFormatted(){return this.parts(void 0,r).hour}meridiem(t=this.locale){return null===(t=new Intl.DateTimeFormat(t,{hour:"numeric",hour12:!0}).formatToParts(this).find(t=>"dayPeriod"===t.type))||void 0===t?void 0:t.value}get date(){return this.getDate()}set date(t){this.setDate(t)}get dateFormatted(){return this.parts(void 0,r).day}get weekDay(){return this.getDay()}get month(){return this.getMonth()}set month(t){const e=new Date(this.year,t+1);e.setDate(0);var i=e.getDate();this.date>i&&(this.date=i),this.setMonth(t)}get monthFormatted(){return this.parts(void 0,r).month}get year(){return this.getFullYear()}set year(t){this.setFullYear(t)}get week(){var t=this.computeOrdinal(),e=this.getUTCDay();let i=Math.floor((t-e+10)/7);return i<1?i=this.weeksInWeekYear(this.year-1):i>this.weeksInWeekYear(this.year)&&(i=1),i}weeksInWeekYear(t){var e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,t=t-1,t=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return 4==e||3==t?53:52}get isLeapYear(){return this.year%4==0&&(this.year%100!=0||this.year%400==0)}computeOrdinal(){return this.date+(this.isLeapYear?this.leapLadder:this.nonLeapLadder)[this.month]}}class o extends Error{}const f="tempus-dominus";class h{}h.NAME=f,h.version="6.0.0-beta7",h.dataKey="td",h.events=new class{constructor(){this.key=".td",this.change="change"+this.key,this.update="update"+this.key,this.error="error"+this.key,this.show="show"+this.key,this.hide="hide"+this.key,this.blur="blur"+this.key,this.focus="focus"+this.key,this.keyup="keyup"+this.key,this.keydown="keydown"+this.key}},h.css=new class{constructor(){this.widget=f+"-widget",this.calendarHeader="calendar-header",this.switch="picker-switch",this.toolbar="toolbar",this.noHighlight="no-highlight",this.sideBySide="timepicker-sbs",this.previous="previous",this.next="next",this.disabled="disabled",this.old="old",this.new="new",this.active="active",this.dateContainer="date-container",this.decadesContainer=this.dateContainer+"-decades",this.decade="decade",this.yearsContainer=this.dateContainer+"-years",this.year="year",this.monthsContainer=this.dateContainer+"-months",this.month="month",this.daysContainer=this.dateContainer+"-days",this.day="day",this.calendarWeeks="cw",this.dayOfTheWeek="dow",this.today="today",this.weekend="weekend",this.timeContainer="time-container",this.separator="separator",this.clockContainer=this.timeContainer+"-clock",this.hourContainer=this.timeContainer+"-hour",this.minuteContainer=this.timeContainer+"-minute",this.secondContainer=this.timeContainer+"-second",this.hour="hour",this.minute="minute",this.second="second",this.toggleMeridiem="toggleMeridiem",this.show="show",this.collapsing="td-collapsing",this.collapse="td-collapse",this.inline="inline"}},h.errorMessages=new class{constructor(){this.base="TD:",this.failedToSetInvalidDate="Failed to set invalid date",this.failedToParseInput="Failed parse input field"}unexpectedOption(t){const e=new o(this.base+` Unexpected option: ${t} does not match a known option.`);throw e.code=1,e}unexpectedOptions(t){const e=new o(this.base+": "+t.join(", "));throw e.code=1,e}unexpectedOptionValue(t,e,i){const s=new o(this.base+` Unexpected option value: ${t} does not accept a value of "${e}". Valid values are: `+i.join(", "));throw s.code=2,s}typeMismatch(t,e,i){const s=new o(this.base+` Mismatch types: ${t} has a type of ${e} instead of the required `+i);throw s.code=3,s}numbersOutOfRage(t,e,i){const s=new o(this.base+` ${t} expected an array of number between ${e} and ${i}.`);throw s.code=4,s}failedToParseDate(t,e,i=!1){const s=new o(this.base+` Could not correctly parse "${e}" to a date for ${t}.`);if(s.code=5,!i)throw s;console.warn(s)}mustProvideElement(){const t=new o(this.base+" No element was provided.");throw t.code=6,t}subscribeMismatch(){const t=new o(this.base+" The subscribed events does not match the number of callbacks");throw t.code=7,t}conflictingConfiguration(t){const e=new o(this.base+" A configuration value conflicts with another rule. "+t);throw e.code=8,e}dateString(){console.warn(this.base+" Using a string for date options is not recommended unless you specify an ISO string.")}throwError(t){const e=new o(this.base+" "+t);throw e.code=9,e}};class y{constructor(){this.cache=new Map}locate(t){var e=this.cache.get(t);if(e)return e;e=new t;return this.cache.set(t,e),e}}let i;const v=[{name:"calendar",className:h.css.daysContainer,unit:d.Unit.month,step:1},{name:"months",className:h.css.monthsContainer,unit:d.Unit.year,step:1},{name:"years",className:h.css.yearsContainer,unit:d.Unit.year,step:10},{name:"decades",className:h.css.decadesContainer,unit:d.Unit.year,step:100}];class s{constructor(){this.viewDate=new l,this._currentCalendarViewMode=0,this.minimumCalendarViewMode=0,this.currentView="calendar"}get currentCalendarViewMode(){return this._currentCalendarViewMode}set currentCalendarViewMode(t){this._currentCalendarViewMode=t,this.currentView=v[t].name}refreshCurrentView(){this.currentView=v[this.currentCalendarViewMode].name}}class e{constructor(){this.optionsStore=i.locate(s)}isValid(t,e){var i;if(0<this.optionsStore.options.restrictions.disabledDates.length&&this._isInDisabledDates(t))return!1;if(0<this.optionsStore.options.restrictions.enabledDates.length&&!this._isInEnabledDates(t))return!1;if(e!==d.Unit.month&&e!==d.Unit.year&&0<(null===(i=this.optionsStore.options.restrictions.daysOfWeekDisabled)||void 0===i?void 0:i.length)&&-1!==this.optionsStore.options.restrictions.daysOfWeekDisabled.indexOf(t.weekDay))return!1;if(this.optionsStore.options.restrictions.minDate&&t.isBefore(this.optionsStore.options.restrictions.minDate,e))return!1;if(this.optionsStore.options.restrictions.maxDate&&t.isAfter(this.optionsStore.options.restrictions.maxDate,e))return!1;if(e===d.Unit.hours||e===d.Unit.minutes||e===d.Unit.seconds){if(0<this.optionsStore.options.restrictions.disabledHours.length&&this._isInDisabledHours(t))return!1;if(0<this.optionsStore.options.restrictions.enabledHours.length&&!this._isInEnabledHours(t))return!1;if(0<this.optionsStore.options.restrictions.disabledTimeIntervals.length)for(var s of this.optionsStore.options.restrictions.disabledTimeIntervals)if(t.isBetween(s.from,s.to))return!1}return!0}_isInDisabledDates(t){if(!this.optionsStore.options.restrictions.disabledDates||0===this.optionsStore.options.restrictions.disabledDates.length)return!1;const e=t.format(m(d.Unit.date));return this.optionsStore.options.restrictions.disabledDates.map(t=>t.format(m(d.Unit.date))).find(t=>t===e)}_isInEnabledDates(t){if(!this.optionsStore.options.restrictions.enabledDates||0===this.optionsStore.options.restrictions.enabledDates.length)return!0;const e=t.format(m(d.Unit.date));return this.optionsStore.options.restrictions.enabledDates.map(t=>t.format(m(d.Unit.date))).find(t=>t===e)}_isInDisabledHours(t){if(!this.optionsStore.options.restrictions.disabledHours||0===this.optionsStore.options.restrictions.disabledHours.length)return!1;const e=t.hours;return this.optionsStore.options.restrictions.disabledHours.find(t=>t===e)}_isInEnabledHours(t){if(!this.optionsStore.options.restrictions.enabledHours||0===this.optionsStore.options.restrictions.enabledHours.length)return!0;const e=t.hours;return this.optionsStore.options.restrictions.enabledHours.find(t=>t===e)}}class g{constructor(){this.subscribers=[]}subscribe(t){return this.subscribers.push(t),this.unsubscribe.bind(this,this.subscribers.length-1)}unsubscribe(t){this.subscribers.splice(t,1)}emit(e){this.subscribers.forEach(t=>{t(e)})}destory(){this.subscribers=null,this.subscribers=[]}}class b{constructor(){this.triggerEvent=new g,this.viewUpdate=new g,this.updateDisplay=new g,this.action=new g}destory(){this.triggerEvent.destory(),this.viewUpdate.destory(),this.updateDisplay.destory(),this.action.destory()}}const w={restrictions:{minDate:void 0,maxDate:void 0,disabledDates:[],enabledDates:[],daysOfWeekDisabled:[],disabledTimeIntervals:[],disabledHours:[],enabledHours:[]},display:{icons:{type:"icons",time:"fa-solid fa-clock",date:"fa-solid fa-calendar",up:"fa-solid fa-arrow-up",down:"fa-solid fa-arrow-down",previous:"fa-solid fa-chevron-left",next:"fa-solid fa-chevron-right",today:"fa-solid fa-calendar-check",clear:"fa-solid fa-trash",close:"fa-solid fa-xmark"},sideBySide:!1,calendarWeeks:!1,viewMode:"calendar",toolbarPlacement:"bottom",keepOpen:!1,buttons:{today:!1,clear:!1,close:!1},components:{calendar:!0,date:!0,month:!0,year:!0,decades:!0,clock:!0,hours:!0,minutes:!0,seconds:!1,useTwentyfourHour:!1},inline:!1},stepping:1,useCurrent:!0,defaultDate:void 0,localization:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",previousMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",previousYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",previousDecade:"Previous Decade",nextDecade:"Next Decade",previousCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",toggleMeridiem:"Toggle Meridiem",selectTime:"Select Time",selectDate:"Select Date",dayViewHeaderFormat:{month:"long",year:"2-digit"},locale:"default",startOfTheWeek:0},keepInvalid:!1,debug:!1,allowInputToggle:!1,viewDate:new l,multipleDates:!1,multipleDatesSeparator:"; ",promptTimeOnDateChange:!1,promptTimeOnDateChangeTransitionDelay:200,meta:{},container:void 0};class c{static deepCopy(i){const s={};return Object.keys(i).forEach(t=>{var e=i[t];"object"!=typeof(s[t]=e)||e instanceof HTMLElement||e instanceof Element||e instanceof Date||Array.isArray(e)||(s[t]=c.deepCopy(e))}),s}static objectPath(t,e){return(t="."===t.charAt(0)?t.slice(1):t).split(".").reduce((t,e)=>c.isValue(t)||c.isValue(t[e])?t[e]:void 0,e)}static spread(n,e,a,r="",l=""){const t=Object.keys(n).filter(t=>!Object.keys(e).includes(t));if(0<t.length){const s=c.getFlattenDefaultOptions();var i=t.map(e=>{let t=`"${r}.${e}" in not a known option.`;var i=s.find(t=>t.includes(e));return i&&(t+=`Did you mean "${i}"?`),t});h.errorMessages.unexpectedOptions(i)}Object.keys(e).forEach(t=>{"."===(r+="."+t).charAt(0)&&(r=r.slice(1));var e=c.objectPath(r,w),i=typeof n[t],s=typeof e;let o=n[t];if(!n.hasOwnProperty(t)){if("undefined"==s||0===(null===o||void 0===o?void 0:o.length)&&Array.isArray(e))return a[t]=e,void(r=r.substring(0,r.lastIndexOf("."+t)));n[t]=e,o=n[t]}a[t]=c.processKey(t,o,i,s,r,l),r=("object"!=typeof e||e instanceof Date||c.ignoreProperties.includes(t)||Array.isArray(n[t])||c.spread(n[t],e,a[t],r,l),r.substring(0,r.lastIndexOf("."+t)))})}static processKey(n,t,e,c,i,a){switch(n){case"defaultDate":{const s=this.dateConversion(t,"defaultDate");if(void 0!==s)return s.setLocale(a),s;h.errorMessages.typeMismatch("defaultDate",e,"DateTime or Date");break}case"viewDate":{const o=this.dateConversion(t,"viewDate");if(void 0!==o)return o.setLocale(a),o;h.errorMessages.typeMismatch("viewDate",e,"DateTime or Date");break}case"minDate":{if(void 0===t)return t;const l=this.dateConversion(t,"restrictions.minDate");if(void 0!==l)return l.setLocale(a),l;h.errorMessages.typeMismatch("restrictions.minDate",e,"DateTime or Date");break}case"maxDate":{if(void 0===t)return t;const d=this.dateConversion(t,"restrictions.maxDate");if(void 0!==d)return d.setLocale(a),d;h.errorMessages.typeMismatch("restrictions.maxDate",e,"DateTime or Date");break}case"disabledHours":return void 0===t?[]:(this._typeCheckNumberArray("restrictions.disabledHours",t,e),0<t.filter(t=>t<0||24<t).length&&h.errorMessages.numbersOutOfRage("restrictions.disabledHours",0,23),t);case"enabledHours":return void 0===t?[]:(this._typeCheckNumberArray("restrictions.enabledHours",t,e),0<t.filter(t=>t<0||24<t).length&&h.errorMessages.numbersOutOfRage("restrictions.enabledHours",0,23),t);case"daysOfWeekDisabled":return void 0===t?[]:(this._typeCheckNumberArray("restrictions.daysOfWeekDisabled",t,e),0<t.filter(t=>t<0||6<t).length&&h.errorMessages.numbersOutOfRage("restrictions.daysOfWeekDisabled",0,6),t);case"enabledDates":return void 0===t?[]:(this._typeCheckDateArray("restrictions.enabledDates",t,e,a),t);case"disabledDates":return void 0===t?[]:(this._typeCheckDateArray("restrictions.disabledDates",t,e,a),t);case"disabledTimeIntervals":if(void 0===t)return[];Array.isArray(t)||h.errorMessages.typeMismatch(n,e,"array of { from: DateTime|Date, to: DateTime|Date }");const r=t;for(let o=0;o<r.length;o++)Object.keys(r[o]).forEach(t=>{var e=`${n}[${o}].`+t,i=r[o][t];const s=this.dateConversion(i,e);s||h.errorMessages.typeMismatch(e,typeof i,"DateTime or Date"),s.setLocale(a),r[o][t]=s});return r;case"toolbarPlacement":case"type":case"viewMode":const p={toolbarPlacement:["top","bottom","default"],type:["icons","sprites"],viewMode:["clock","calendar","months","years","decades"]}[n];return p.includes(t)||h.errorMessages.unexpectedOptionValue(i.substring(1),t,p),t;case"meta":case"dayViewHeaderFormat":return t;case"container":return t&&!(t instanceof HTMLElement||t instanceof Element||null!=t&&t.appendChild)&&h.errorMessages.typeMismatch(i.substring(1),typeof t,"HTMLElement"),t;default:switch(c){case"boolean":return"true"===t||!0===t;case"number":return+t;case"string":return t.toString();case"object":return{};case"function":return t;default:h.errorMessages.typeMismatch(i,e,c)}}}static _mergeOptions(t,e){var i={},s="default"!==e.localization.locale?e.localization.locale:(null===(s=null==t?void 0:t.localization)||void 0===s?void 0:s.locale)||"default";return c.spread(t,e,i,"",s),i}static _dataToOptions(t,s){const o=JSON.parse(JSON.stringify(t.dataset));if(null!==o&&void 0!==o&&o.tdTargetInput&&delete o.tdTargetInput,null!==o&&void 0!==o&&o.tdTargetToggle&&delete o.tdTargetToggle,!o||0===Object.keys(o).length||o.constructor!==DOMStringMap)return s;let n={};const a=t=>{const e={};return Object.keys(t).forEach(t=>{e[t.toLowerCase()]=t}),e},r=(t,e,i,s)=>{var o=a(i)[t[e].toLowerCase()];const n={};return void 0===o||(i[o].constructor===Object?(e++,n[o]=r(t,e,i[o],s)):n[o]=s),n},l=a(s);return Object.keys(o).filter(t=>t.startsWith(h.dataKey)).map(t=>t.substring(2)).forEach(t=>{let e=l[t.toLowerCase()];if(t.includes("_")){const i=t.split("_");void 0!==(e=l[i[0].toLowerCase()])&&s[e].constructor===Object&&(n[e]=r(i,1,s[e],o["td"+t]))}else void 0!==e&&(n[e]=o["td"+t])}),this._mergeOptions(n,s)}static _dateTypeCheck(t){return t.constructor.name===l.name?t:t.constructor.name===Date.name?l.convert(t):"string"==typeof t?(t=new l(t),"null"===JSON.stringify(t)?null:t):null}static _typeCheckDateArray(e,i,t,s="default"){Array.isArray(i)||h.errorMessages.typeMismatch(e,t,"array of DateTime or Date");for(let t=0;t<i.length;t++){var o=i[t];const n=this.dateConversion(o,e);n||h.errorMessages.typeMismatch(e,typeof o,"DateTime or Date"),n.setLocale(s),i[t]=n}}static _typeCheckNumberArray(t,e,i){Array.isArray(e)&&!e.find(t=>"number"!=typeof t)||h.errorMessages.typeMismatch(t,i,"array of numbers")}static dateConversion(t,e){"string"==typeof t&&"input"!==e&&h.errorMessages.dateString();var i=this._dateTypeCheck(t);return i||h.errorMessages.failedToParseDate(e,t,"input"===e),i}static getFlattenDefaultOptions(){if(this._flattenDefaults)return this._flattenDefaults;const s=(t,i=[])=>Array.isArray(t)?[]:Object(t)===t?Object.entries(t).flatMap(([t,e])=>s(e,[...i,t])):i.join(".");return this._flattenDefaults=s(w),this._flattenDefaults}static _validateConflicts(t){!t.display.sideBySide||t.display.components.clock&&(t.display.components.hours||t.display.components.minutes||t.display.components.seconds)||h.errorMessages.conflictingConfiguration("Cannot use side by side mode without the clock components"),t.restrictions.minDate&&t.restrictions.maxDate&&(t.restrictions.minDate.isAfter(t.restrictions.maxDate)&&h.errorMessages.conflictingConfiguration("minDate is after maxDate"),t.restrictions.maxDate.isBefore(t.restrictions.minDate)&&h.errorMessages.conflictingConfiguration("maxDate is before minDate"))}}c.ignoreProperties=["meta","dayViewHeaderFormat","container"],c.isValue=t=>null!=t;class S{constructor(){this._dates=[],this.optionsStore=i.locate(s),this.validation=i.locate(e),this._eventEmitters=i.locate(b)}get picked(){return this._dates}get lastPicked(){return this._dates[this.lastPickedIndex]}get lastPickedIndex(){return 0===this._dates.length?0:this._dates.length-1}formatInput(t){var e=this.optionsStore.options.display.components;return t?t.format({year:e.calendar&&e.year?"numeric":void 0,month:e.calendar&&e.month?"2-digit":void 0,day:e.calendar&&e.date?"2-digit":void 0,hour:e.clock&&e.hours?e.useTwentyfourHour?"2-digit":"numeric":void 0,minute:e.clock&&e.minutes?"2-digit":void 0,second:e.clock&&e.seconds?"2-digit":void 0,hour12:!e.useTwentyfourHour}):""}parseInput(t){return c.dateConversion(t,"input")}setFromInput(t,e){if(t){const i=this.parseInput(t);i&&(i.setLocale(this.optionsStore.options.localization.locale),this.setValue(i,e))}else this.setValue(void 0,e)}add(t){this._dates.push(t)}isPicked(e,t){if(!t)return void 0!==this._dates.find(t=>t===e);const i=m(t);let s=e.format(i);return void 0!==this._dates.map(t=>t.format(i)).find(t=>t===s)}pickedIndex(t,e){if(!e)return this._dates.indexOf(t);const i=m(e);e=t.format(i);return this._dates.map(t=>t.format(i)).indexOf(e)}clear(){this.optionsStore.unset=!0,this._eventEmitters.triggerEvent.emit({type:h.events.change,date:void 0,oldDate:this.lastPicked,isClear:!0,isValid:!0}),this._dates=[]}static getStartEndYear(t,e){var i=t/10,t=Math.floor(e/t)*t;return[t,t+9*i,Math.floor(e/i)*i]}setValue(e,t){var i=void 0===t,s=!e&&i;let o=this.optionsStore.unset?null:this._dates[t];!o&&!this.optionsStore.unset&&i&&s&&(o=this.lastPicked);i=()=>{if(this.optionsStore.input){let t=this.formatInput(e);this.optionsStore.options.multipleDates&&(t=this._dates.map(t=>this.formatInput(t)).join(this.optionsStore.options.multipleDatesSeparator)),this.optionsStore.input.value!=t&&(this.optionsStore.input.value=t)}};if(!e||null===o||void 0===o||!o.isSame(e))return e?(t=t||0,e=e.clone,1!==this.optionsStore.options.stepping&&(e.minutes=Math.round(e.minutes/this.optionsStore.options.stepping)*this.optionsStore.options.stepping,e.seconds=0),this.validation.isValid(e)?(this._dates[t]=e,this.optionsStore.viewDate=e.clone,i(),this.optionsStore.unset=!1,this._eventEmitters.updateDisplay.emit("all"),void this._eventEmitters.triggerEvent.emit({type:h.events.change,date:e,oldDate:o,isClear:s,isValid:!0})):(this.optionsStore.options.keepInvalid&&(this._dates[t]=e,this.optionsStore.viewDate=e.clone,i(),this._eventEmitters.triggerEvent.emit({type:h.events.change,date:e,oldDate:o,isClear:s,isValid:!1})),void this._eventEmitters.triggerEvent.emit({type:h.events.error,reason:h.errorMessages.failedToSetInvalidDate,date:e,oldDate:o}))):(!this.optionsStore.options.multipleDates||1===this._dates.length||s?(this.optionsStore.unset=!0,this._dates=[]):this._dates.splice(t,1),i(),this._eventEmitters.triggerEvent.emit({type:h.events.change,date:void 0,oldDate:o,isClear:s,isValid:!0}),void this._eventEmitters.updateDisplay.emit("all"));i()}}(t=a=a||{}).next="next",t.previous="previous",t.changeCalendarView="changeCalendarView",t.selectMonth="selectMonth",t.selectYear="selectYear",t.selectDecade="selectDecade",t.selectDay="selectDay",t.selectHour="selectHour",t.selectMinute="selectMinute",t.selectSecond="selectSecond",t.incrementHours="incrementHours",t.incrementMinutes="incrementMinutes",t.incrementSeconds="incrementSeconds",t.decrementHours="decrementHours",t.decrementMinutes="decrementMinutes",t.decrementSeconds="decrementSeconds",t.toggleMeridiem="toggleMeridiem",t.togglePicker="togglePicker",t.showClock="showClock",t.showHours="showHours",t.showMinutes="showMinutes",t.showSeconds="showSeconds",t.clear="clear",t.close="close",t.today="today";var p=a;class D{constructor(){this.optionsStore=i.locate(s),this.dates=i.locate(S),this.validation=i.locate(e)}getPicker(){const e=document.createElement("div");if(e.classList.add(h.css.daysContainer),e.append(...this._daysOfTheWeek()),this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(h.css.calendarWeeks,h.css.noHighlight),e.appendChild(t)}for(let t=0;t<42;t++){if(0!==t&&t%7==0&&this.optionsStore.options.display.calendarWeeks){const s=document.createElement("div");s.classList.add(h.css.calendarWeeks,h.css.noHighlight),e.appendChild(s)}const i=document.createElement("div");i.setAttribute("data-action",p.selectDay),e.appendChild(i)}return e}_update(t,i){const e=t.getElementsByClassName(h.css.daysContainer)[0],[s,o,n]=e.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div");o.setAttribute(h.css.daysContainer,this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.month),d.Unit.month)?s.classList.remove(h.css.disabled):s.classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.month),d.Unit.month)?n.classList.remove(h.css.disabled):n.classList.add(h.css.disabled);let a=this.optionsStore.viewDate.clone.startOf(d.Unit.month).startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).manipulate(12,d.Unit.hours);e.querySelectorAll(`[data-action="${p.selectDay}"], .`+h.css.calendarWeeks).forEach(t=>{if(this.optionsStore.options.display.calendarWeeks&&t.classList.contains(h.css.calendarWeeks))return"#"===t.innerText?void 0:void(t.innerText=""+a.week);let e=[];e.push(h.css.day),a.isBefore(this.optionsStore.viewDate,d.Unit.month)&&e.push(h.css.old),a.isAfter(this.optionsStore.viewDate,d.Unit.month)&&e.push(h.css.new),!this.optionsStore.unset&&this.dates.isPicked(a,d.Unit.date)&&e.push(h.css.active),this.validation.isValid(a,d.Unit.date)||e.push(h.css.disabled),a.isSame(new l,d.Unit.date)&&e.push(h.css.today),0!==a.weekDay&&6!==a.weekDay||e.push(h.css.weekend),i(d.Unit.date,a,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",`${a.year}-${a.monthFormatted}-`+a.dateFormatted),t.setAttribute("data-day",""+a.date),t.innerText=a.format({day:"numeric"}),a.manipulate(1,d.Unit.date)})}_daysOfTheWeek(){let e=this.optionsStore.viewDate.clone.startOf("weekDay",this.optionsStore.options.localization.startOfTheWeek).startOf(d.Unit.date);const i=[];if(document.createElement("div"),this.optionsStore.options.display.calendarWeeks){const t=document.createElement("div");t.classList.add(h.css.calendarWeeks,h.css.noHighlight),t.innerText="#",i.push(t)}for(let t=0;t<7;t++){const s=document.createElement("div");s.classList.add(h.css.dayOfTheWeek,h.css.noHighlight),s.innerText=e.format({weekday:"short"}),e.manipulate(1,d.Unit.date),i.push(s)}return i}}class k{constructor(){this.optionsStore=i.locate(s),this.dates=i.locate(S),this.validation=i.locate(e)}getPicker(){const e=document.createElement("div");e.classList.add(h.css.monthsContainer);for(let t=0;t<12;t++){const i=document.createElement("div");i.setAttribute("data-action",p.selectMonth),e.appendChild(i)}return e}_update(t,s){const e=t.getElementsByClassName(h.css.monthsContainer)[0],[i,o,n]=e.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div");o.setAttribute(h.css.monthsContainer,this.optionsStore.viewDate.format({year:"numeric"})),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.year),d.Unit.year)?i.classList.remove(h.css.disabled):i.classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.year),d.Unit.year)?n.classList.remove(h.css.disabled):n.classList.add(h.css.disabled);let a=this.optionsStore.viewDate.clone.startOf(d.Unit.year);e.querySelectorAll(`[data-action="${p.selectMonth}"]`).forEach((t,e)=>{let i=[];i.push(h.css.month),!this.optionsStore.unset&&this.dates.isPicked(a,d.Unit.month)&&i.push(h.css.active),this.validation.isValid(a,d.Unit.month)||i.push(h.css.disabled),s(d.Unit.month,a,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",""+e),t.innerText=""+a.format({month:"short"}),a.manipulate(1,d.Unit.month)})}}class C{constructor(){this.optionsStore=i.locate(s),this.dates=i.locate(S),this.validation=i.locate(e)}getPicker(){const e=document.createElement("div");e.classList.add(h.css.yearsContainer);for(let t=0;t<12;t++){const i=document.createElement("div");i.setAttribute("data-action",p.selectYear),e.appendChild(i)}return e}_update(t,i){this._startYear=this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.year),this._endYear=this.optionsStore.viewDate.clone.manipulate(10,d.Unit.year);const e=t.getElementsByClassName(h.css.yearsContainer)[0],[s,o,n]=e.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div");o.setAttribute(h.css.yearsContainer,this._startYear.format({year:"numeric"})+"-"+this._endYear.format({year:"numeric"})),this.validation.isValid(this._startYear,d.Unit.year)?s.classList.remove(h.css.disabled):s.classList.add(h.css.disabled),this.validation.isValid(this._endYear,d.Unit.year)?n.classList.remove(h.css.disabled):n.classList.add(h.css.disabled);let a=this.optionsStore.viewDate.clone.startOf(d.Unit.year).manipulate(-1,d.Unit.year);e.querySelectorAll(`[data-action="${p.selectYear}"]`).forEach(t=>{let e=[];e.push(h.css.year),!this.optionsStore.unset&&this.dates.isPicked(a,d.Unit.year)&&e.push(h.css.active),this.validation.isValid(a,d.Unit.year)||e.push(h.css.disabled),i(d.Unit.year,a,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+a.year),t.innerText=a.format({year:"numeric"}),a.manipulate(1,d.Unit.year)})}}class _{constructor(){this.optionsStore=i.locate(s),this.dates=i.locate(S),this.validation=i.locate(e)}getPicker(){const e=document.createElement("div");e.classList.add(h.css.decadesContainer);for(let t=0;t<12;t++){const i=document.createElement("div");i.setAttribute("data-action",p.selectDecade),e.appendChild(i)}return e}_update(t,n){var[e,i]=S.getStartEndYear(100,this.optionsStore.viewDate.year);this._startDecade=this.optionsStore.viewDate.clone.startOf(d.Unit.year),this._startDecade.year=e,this._endDecade=this.optionsStore.viewDate.clone.startOf(d.Unit.year),this._endDecade.year=i;const s=t.getElementsByClassName(h.css.decadesContainer)[0],[a,o,r]=s.parentElement.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div"),l=(o.setAttribute(h.css.decadesContainer,this._startDecade.format({year:"numeric"})+"-"+this._endDecade.format({year:"numeric"})),this.validation.isValid(this._startDecade,d.Unit.year)?a.classList.remove(h.css.disabled):a.classList.add(h.css.disabled),this.validation.isValid(this._endDecade,d.Unit.year)?r.classList.remove(h.css.disabled):r.classList.add(h.css.disabled),this.dates.picked.map(t=>t.year));s.querySelectorAll(`[data-action="${p.selectDecade}"]`).forEach((t,e)=>{if(0===e)return t.classList.add(h.css.old),this._startDecade.year-10<0?(t.textContent=" ",a.classList.add(h.css.disabled),t.classList.add(h.css.disabled),void t.setAttribute("data-value","")):(t.innerText=this._startDecade.clone.manipulate(-10,d.Unit.year).format({year:"numeric"}),void t.setAttribute("data-value",""+this._startDecade.year));let i=[];i.push(h.css.decade);const s=this._startDecade.year,o=this._startDecade.year+9;!this.optionsStore.unset&&0<l.filter(t=>t>=s&&t<=o).length&&i.push(h.css.active),n("decade",this._startDecade,i,t),t.classList.remove(...t.classList),t.classList.add(...i),t.setAttribute("data-value",""+this._startDecade.year),t.innerText=""+this._startDecade.format({year:"numeric"}),this._startDecade.manipulate(10,d.Unit.year)})}}class E{constructor(){this._gridColumns="",this.optionsStore=i.locate(s),this.dates=i.locate(S),this.validation=i.locate(e)}getPicker(t){const e=document.createElement("div");return e.classList.add(h.css.clockContainer),e.append(...this._grid(t)),e}_update(t){const e=t.getElementsByClassName(h.css.clockContainer)[0],i=(this.dates.lastPicked||this.optionsStore.viewDate).clone;if(e.querySelectorAll(".disabled").forEach(t=>t.classList.remove(h.css.disabled)),this.optionsStore.options.display.components.hours&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.hours),d.Unit.hours)||e.querySelector(`[data-action=${p.incrementHours}]`).classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.hours),d.Unit.hours)||e.querySelector(`[data-action=${p.decrementHours}]`).classList.add(h.css.disabled),e.querySelector(`[data-time-component=${d.Unit.hours}]`).innerText=this.optionsStore.options.display.components.useTwentyfourHour?i.hoursFormatted:i.twelveHoursFormatted),this.optionsStore.options.display.components.minutes&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.minutes),d.Unit.minutes)||e.querySelector(`[data-action=${p.incrementMinutes}]`).classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.minutes),d.Unit.minutes)||e.querySelector(`[data-action=${p.decrementMinutes}]`).classList.add(h.css.disabled),e.querySelector(`[data-time-component=${d.Unit.minutes}]`).innerText=i.minutesFormatted),this.optionsStore.options.display.components.seconds&&(this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(1,d.Unit.seconds),d.Unit.seconds)||e.querySelector(`[data-action=${p.incrementSeconds}]`).classList.add(h.css.disabled),this.validation.isValid(this.optionsStore.viewDate.clone.manipulate(-1,d.Unit.seconds),d.Unit.seconds)||e.querySelector(`[data-action=${p.decrementSeconds}]`).classList.add(h.css.disabled),e.querySelector(`[data-time-component=${d.Unit.seconds}]`).innerText=i.secondsFormatted),!this.optionsStore.options.display.components.useTwentyfourHour){const s=e.querySelector(`[data-action=${p.toggleMeridiem}]`);s.innerText=i.meridiem(),this.validation.isValid(i.clone.manipulate(12<=i.hours?-12:12,d.Unit.hours))?s.classList.remove(h.css.disabled):s.classList.add(h.css.disabled)}e.style.gridTemplateAreas=`"${this._gridColumns}"`}_grid(i){this._gridColumns="";const s=[],o=[],n=[],e=document.createElement("div"),a=i(this.optionsStore.options.display.icons.up),r=i(this.optionsStore.options.display.icons.down),l=(e.classList.add(h.css.separator,h.css.noHighlight),e.cloneNode(!0));l.innerHTML=":";i=(t=!1)=>(t?l:e).cloneNode(!0);if(this.optionsStore.options.display.components.hours){let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementHour),t.setAttribute("data-action",p.incrementHours),t.appendChild(a.cloneNode(!0)),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickHour),t.setAttribute("data-action",p.showHours),t.setAttribute("data-time-component",d.Unit.hours),o.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementHour),t.setAttribute("data-action",p.decrementHours),t.appendChild(r.cloneNode(!0)),n.push(t),this._gridColumns+="a"}if(this.optionsStore.options.display.components.minutes){this._gridColumns+=" a",this.optionsStore.options.display.components.hours&&(s.push(i()),o.push(i(!0)),n.push(i()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementMinute),t.setAttribute("data-action",p.incrementMinutes),t.appendChild(a.cloneNode(!0)),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickMinute),t.setAttribute("data-action",p.showMinutes),t.setAttribute("data-time-component",d.Unit.minutes),o.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementMinute),t.setAttribute("data-action",p.decrementMinutes),t.appendChild(r.cloneNode(!0)),n.push(t)}if(this.optionsStore.options.display.components.seconds){this._gridColumns+=" a",this.optionsStore.options.display.components.minutes&&(s.push(i()),o.push(i(!0)),n.push(i()),this._gridColumns+=" a");let t=document.createElement("div");t.setAttribute("title",this.optionsStore.options.localization.incrementSecond),t.setAttribute("data-action",p.incrementSeconds),t.appendChild(a.cloneNode(!0)),s.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.pickSecond),t.setAttribute("data-action",p.showSeconds),t.setAttribute("data-time-component",d.Unit.seconds),o.push(t),(t=document.createElement("div")).setAttribute("title",this.optionsStore.options.localization.decrementSecond),t.setAttribute("data-action",p.decrementSeconds),t.appendChild(r.cloneNode(!0)),n.push(t)}if(!this.optionsStore.options.display.components.useTwentyfourHour){this._gridColumns+=" a";let t=i(),e=(s.push(t),document.createElement("button"));e.setAttribute("title",this.optionsStore.options.localization.toggleMeridiem),e.setAttribute("data-action",p.toggleMeridiem),e.setAttribute("tabindex","-1"),h.css.toggleMeridiem.includes(",")?e.classList.add(...h.css.toggleMeridiem.split(",")):e.classList.add(h.css.toggleMeridiem),(t=document.createElement("div")).classList.add(h.css.noHighlight),t.appendChild(e),o.push(t),t=i(),n.push(t)}return this._gridColumns=this._gridColumns.trim(),[...s,...o,...n]}}class x{constructor(){this.optionsStore=i.locate(s),this.validation=i.locate(e)}getPicker(){const e=document.createElement("div");e.classList.add(h.css.hourContainer);for(let t=0;t<(this.optionsStore.options.display.components.useTwentyfourHour?24:12);t++){const i=document.createElement("div");i.setAttribute("data-action",p.selectHour),e.appendChild(i)}return e}_update(t,i){const e=t.getElementsByClassName(h.css.hourContainer)[0];let s=this.optionsStore.viewDate.clone.startOf(d.Unit.date);e.querySelectorAll(`[data-action="${p.selectHour}"]`).forEach(t=>{let e=[];e.push(h.css.hour),this.validation.isValid(s,d.Unit.hours)||e.push(h.css.disabled),i(d.Unit.hours,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.hours),t.innerText=this.optionsStore.options.display.components.useTwentyfourHour?s.hoursFormatted:s.twelveHoursFormatted,s.manipulate(1,d.Unit.hours)})}}class M{constructor(){this.optionsStore=i.locate(s),this.validation=i.locate(e)}getPicker(){const e=document.createElement("div");e.classList.add(h.css.minuteContainer);var i=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;for(let t=0;t<60/i;t++){const s=document.createElement("div");s.setAttribute("data-action",p.selectMinute),e.appendChild(s)}return e}_update(t,i){const e=t.getElementsByClassName(h.css.minuteContainer)[0];let s=this.optionsStore.viewDate.clone.startOf(d.Unit.hours),o=1===this.optionsStore.options.stepping?5:this.optionsStore.options.stepping;e.querySelectorAll(`[data-action="${p.selectMinute}"]`).forEach(t=>{let e=[];e.push(h.css.minute),this.validation.isValid(s,d.Unit.minutes)||e.push(h.css.disabled),i(d.Unit.minutes,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.minutesFormatted),t.innerText=s.minutesFormatted,s.manipulate(o,d.Unit.minutes)})}}class O{constructor(){this.optionsStore=i.locate(s),this.validation=i.locate(e)}getPicker(){const e=document.createElement("div");e.classList.add(h.css.secondContainer);for(let t=0;t<12;t++){const i=document.createElement("div");i.setAttribute("data-action",p.selectSecond),e.appendChild(i)}return e}_update(t,i){const e=t.getElementsByClassName(h.css.secondContainer)[0];let s=this.optionsStore.viewDate.clone.startOf(d.Unit.minutes);e.querySelectorAll(`[data-action="${p.selectSecond}"]`).forEach(t=>{let e=[];e.push(h.css.second),this.validation.isValid(s,d.Unit.seconds)||e.push(h.css.disabled),i(d.Unit.seconds,s,e,t),t.classList.remove(...t.classList),t.classList.add(...e),t.setAttribute("data-value",""+s.seconds),t.innerText=s.secondsFormatted,s.manipulate(5,d.Unit.seconds)})}}class L{static toggle(t){t.classList.contains(h.css.show)?this.hide(t):this.show(t)}static show(t){t.classList.contains(h.css.collapsing)||t.classList.contains(h.css.show)||(t.style.height="0",t.classList.remove(h.css.collapse),t.classList.add(h.css.collapsing),setTimeout(()=>{t.classList.remove(h.css.collapsing),t.classList.add(h.css.collapse,h.css.show),t.style.height=""},this.getTransitionDurationFromElement(t)),t.style.height=t.scrollHeight+"px")}static hide(t){!t.classList.contains(h.css.collapsing)&&t.classList.contains(h.css.show)&&(t.style.height=t.getBoundingClientRect().height+"px",t.offsetHeight,t.classList.remove(h.css.collapse,h.css.show),t.classList.add(h.css.collapsing),t.style.height="",setTimeout(()=>{t.classList.remove(h.css.collapsing),t.classList.add(h.css.collapse)},this.getTransitionDurationFromElement(t)))}}L.getTransitionDurationFromElement=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);var t=Number.parseFloat(e),s=Number.parseFloat(i);return t||s?(e=e.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(i))):0};class T{constructor(){this._isVisible=!1,this._documentClickEvent=t=>{this.optionsStore.options.debug||window.debug||!this._isVisible||t.composedPath().includes(this.widget)||null!==(t=t.composedPath())&&void 0!==t&&t.includes(this.optionsStore.element)||this.hide()},this._actionsClickEvent=t=>{this._eventEmitters.action.emit({e:t})},this.optionsStore=i.locate(s),this.validation=i.locate(e),this.dates=i.locate(S),this.dateDisplay=i.locate(D),this.monthDisplay=i.locate(k),this.yearDisplay=i.locate(C),this.decadeDisplay=i.locate(_),this.timeDisplay=i.locate(E),this.hourDisplay=i.locate(x),this.minuteDisplay=i.locate(M),this.secondDisplay=i.locate(O),this._eventEmitters=i.locate(b),this._widget=void 0,this._eventEmitters.updateDisplay.subscribe(t=>{this._update(t)})}get widget(){return this._widget}get isVisible(){return this._isVisible}_update(t){if(this.widget)switch(t){case d.Unit.seconds:this.secondDisplay._update(this.widget,this.paint);break;case d.Unit.minutes:this.minuteDisplay._update(this.widget,this.paint);break;case d.Unit.hours:this.hourDisplay._update(this.widget,this.paint);break;case d.Unit.date:this.dateDisplay._update(this.widget,this.paint);break;case d.Unit.month:this.monthDisplay._update(this.widget,this.paint);break;case d.Unit.year:this.yearDisplay._update(this.widget,this.paint);break;case"clock":if(!this._hasTime)break;this.timeDisplay._update(this.widget),this._update(d.Unit.hours),this._update(d.Unit.minutes),this._update(d.Unit.seconds);break;case"calendar":this._update(d.Unit.date),this._update(d.Unit.year),this._update(d.Unit.month),this.decadeDisplay._update(this.widget,this.paint),this._updateCalendarHeader();break;case"all":this._hasTime&&this._update("clock"),this._hasDate&&this._update("calendar")}}paint(t,e,i,s){}show(){if(null==this.widget){if(0==this.dates.picked.length){if(this.optionsStore.options.useCurrent&&!this.optionsStore.options.defaultDate){const s=(new l).setLocale(this.optionsStore.options.localization.locale);if(!this.optionsStore.options.keepInvalid){let t=0,e=1;for(null!==(i=this.optionsStore.options.restrictions.maxDate)&&void 0!==i&&i.isBefore(s)&&(e=-1);!(this.validation.isValid(s)||(s.manipulate(e,d.Unit.date),31<t));)t++}this.dates.setValue(s)}this.optionsStore.options.defaultDate&&this.dates.setValue(this.optionsStore.options.defaultDate)}this._buildWidget();var i=this._hasTime&&!this._hasDate;if(i&&(this.optionsStore.currentView="clock",this._eventEmitters.action.emit({e:null,action:p.showClock})),this.optionsStore.currentCalendarViewMode||(this.optionsStore.currentCalendarViewMode=this.optionsStore.minimumCalendarViewMode),i||(this._hasTime&&L.hide(this.widget.querySelector("div."+h.css.timeContainer)),L.show(this.widget.querySelector("div."+h.css.dateContainer))),this._hasDate&&this._showMode(),this.optionsStore.options.display.inline)this.optionsStore.element.appendChild(this.widget);else{const t=(null===(i=this.optionsStore.options)||void 0===i?void 0:i.container)||document.body;t.appendChild(this.widget),this._popperInstance=n.createPopper(this.optionsStore.element,this.widget,{modifiers:[{name:"eventListeners",enabled:!0}],placement:"rtl"===document.documentElement.dir?"bottom-end":"bottom-start"})}"clock"==this.optionsStore.options.display.viewMode&&this._eventEmitters.action.emit({e:null,action:p.showClock}),this.widget.querySelectorAll("[data-action]").forEach(t=>t.addEventListener("click",this._actionsClickEvent)),this._hasTime&&this.optionsStore.options.display.sideBySide&&(this.timeDisplay._update(this.widget),this.widget.getElementsByClassName(h.css.clockContainer)[0].style.display="grid")}this.widget.classList.add(h.css.show),this.optionsStore.options.display.inline||(this._popperInstance.update(),document.addEventListener("click",this._documentClickEvent)),this._eventEmitters.triggerEvent.emit({type:h.events.show}),this._isVisible=!0}_showMode(e){if(this.widget){if(e){e=Math.max(this.optionsStore.minimumCalendarViewMode,Math.min(3,this.optionsStore.currentCalendarViewMode+e));if(this.optionsStore.currentCalendarViewMode==e)return;this.optionsStore.currentCalendarViewMode=e}this.widget.querySelectorAll(`.${h.css.dateContainer} > div:not(.${h.css.calendarHeader}), .${h.css.timeContainer} > div:not(.${h.css.clockContainer})`).forEach(t=>t.style.display="none");e=v[this.optionsStore.currentCalendarViewMode];let t=this.widget.querySelector("."+e.className);switch(e.className){case h.css.decadesContainer:this.decadeDisplay._update(this.widget,this.paint);break;case h.css.yearsContainer:this.yearDisplay._update(this.widget,this.paint);break;case h.css.monthsContainer:this.monthDisplay._update(this.widget,this.paint);break;case h.css.daysContainer:this.dateDisplay._update(this.widget,this.paint)}t.style.display="grid",this._updateCalendarHeader(),this._eventEmitters.viewUpdate.emit()}}_updateCalendarHeader(){var t=[...this.widget.querySelector(`.${h.css.dateContainer} div[style*="display: grid"]`).classList].find(t=>t.startsWith(h.css.dateContainer));const[e,i,s]=this.widget.getElementsByClassName(h.css.calendarHeader)[0].getElementsByTagName("div");switch(t){case h.css.decadesContainer:e.setAttribute("title",this.optionsStore.options.localization.previousCentury),i.setAttribute("title",""),s.setAttribute("title",this.optionsStore.options.localization.nextCentury);break;case h.css.yearsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousDecade),i.setAttribute("title",this.optionsStore.options.localization.selectDecade),s.setAttribute("title",this.optionsStore.options.localization.nextDecade);break;case h.css.monthsContainer:e.setAttribute("title",this.optionsStore.options.localization.previousYear),i.setAttribute("title",this.optionsStore.options.localization.selectYear),s.setAttribute("title",this.optionsStore.options.localization.nextYear);break;case h.css.daysContainer:e.setAttribute("title",this.optionsStore.options.localization.previousMonth),i.setAttribute("title",this.optionsStore.options.localization.selectMonth),s.setAttribute("title",this.optionsStore.options.localization.nextMonth),i.innerText=this.optionsStore.viewDate.format(this.optionsStore.options.localization.dayViewHeaderFormat)}i.innerText=i.getAttribute(t)}hide(){this.widget&&this._isVisible&&(this.widget.classList.remove(h.css.show),this._isVisible&&(this._eventEmitters.triggerEvent.emit({type:h.events.hide,date:this.optionsStore.unset?null:this.dates.lastPicked?this.dates.lastPicked.clone:void 0}),this._isVisible=!1),document.removeEventListener("click",this._documentClickEvent))}toggle(){return this._isVisible?this.hide():this.show()}_dispose(){document.removeEventListener("click",this._documentClickEvent),this.widget&&(this.widget.querySelectorAll("[data-action]").forEach(t=>t.removeEventListener("click",this._actionsClickEvent)),this.widget.parentNode.removeChild(this.widget),this._widget=void 0)}_buildWidget(){const t=document.createElement("div"),e=(t.classList.add(h.css.widget),document.createElement("div")),i=(e.classList.add(h.css.dateContainer),e.append(this.getHeadTemplate(),this.decadeDisplay.getPicker(),this.yearDisplay.getPicker(),this.monthDisplay.getPicker(),this.dateDisplay.getPicker()),document.createElement("div")),s=(i.classList.add(h.css.timeContainer),i.appendChild(this.timeDisplay.getPicker(this._iconTag.bind(this))),i.appendChild(this.hourDisplay.getPicker()),i.appendChild(this.minuteDisplay.getPicker()),i.appendChild(this.secondDisplay.getPicker()),document.createElement("div"));if(s.classList.add(h.css.toolbar),s.append(...this.getToolbarElements()),this.optionsStore.options.display.inline&&t.classList.add(h.css.inline),this.optionsStore.options.display.calendarWeeks&&t.classList.add("calendarWeeks"),this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){t.classList.add(h.css.sideBySide),"top"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s);const n=document.createElement("div");return n.classList.add("td-row"),e.classList.add("td-half"),i.classList.add("td-half"),n.appendChild(e),n.appendChild(i),t.appendChild(n),"bottom"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s),void(this._widget=t)}"top"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s),this._hasDate&&(this._hasTime&&(e.classList.add(h.css.collapse),"clock"!==this.optionsStore.options.display.viewMode&&e.classList.add(h.css.show)),t.appendChild(e)),this._hasTime&&(this._hasDate&&(i.classList.add(h.css.collapse),"clock"===this.optionsStore.options.display.viewMode&&i.classList.add(h.css.show)),t.appendChild(i)),"bottom"===this.optionsStore.options.display.toolbarPlacement&&t.appendChild(s);const o=document.createElement("div");o.classList.add("arrow"),o.setAttribute("data-popper-arrow",""),t.appendChild(o),this._widget=t}get _hasTime(){return this.optionsStore.options.display.components.clock&&(this.optionsStore.options.display.components.hours||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.components.seconds)}get _hasDate(){return this.optionsStore.options.display.components.calendar&&(this.optionsStore.options.display.components.year||this.optionsStore.options.display.components.month||this.optionsStore.options.display.components.date)}getToolbarElements(){const i=[];if(this.optionsStore.options.display.buttons.today){const t=document.createElement("div");t.setAttribute("data-action",p.today),t.setAttribute("title",this.optionsStore.options.localization.today),t.appendChild(this._iconTag(this.optionsStore.options.display.icons.today)),i.push(t)}if(!this.optionsStore.options.display.sideBySide&&this._hasDate&&this._hasTime){let t,e;e="clock"===this.optionsStore.options.display.viewMode?(t=this.optionsStore.options.localization.selectDate,this.optionsStore.options.display.icons.date):(t=this.optionsStore.options.localization.selectTime,this.optionsStore.options.display.icons.time);const s=document.createElement("div");s.setAttribute("data-action",p.togglePicker),s.setAttribute("title",t),s.appendChild(this._iconTag(e)),i.push(s)}if(this.optionsStore.options.display.buttons.clear){const e=document.createElement("div");e.setAttribute("data-action",p.clear),e.setAttribute("title",this.optionsStore.options.localization.clear),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.clear)),i.push(e)}if(this.optionsStore.options.display.buttons.close){const o=document.createElement("div");o.setAttribute("data-action",p.close),o.setAttribute("title",this.optionsStore.options.localization.close),o.appendChild(this._iconTag(this.optionsStore.options.display.icons.close)),i.push(o)}return i}getHeadTemplate(){const t=document.createElement("div"),e=(t.classList.add(h.css.calendarHeader),document.createElement("div")),i=(e.classList.add(h.css.previous),e.setAttribute("data-action",p.previous),e.appendChild(this._iconTag(this.optionsStore.options.display.icons.previous)),document.createElement("div")),s=(i.classList.add(h.css.switch),i.setAttribute("data-action",p.changeCalendarView),document.createElement("div"));return s.classList.add(h.css.next),s.setAttribute("data-action",p.next),s.appendChild(this._iconTag(this.optionsStore.options.display.icons.next)),t.append(e,i,s),t}_iconTag(t){if("sprites"===this.optionsStore.options.display.icons.type){const i=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","use");return e.setAttribute("xlink:href",t),e.setAttribute("href",t),i.appendChild(e),i}const e=document.createElement("i");return e.classList.add(...t.split(" ")),e}_rebuild(){var t=this._isVisible;t&&this.hide(),this._dispose(),t&&this.show()}}class A{constructor(){this.optionsStore=i.locate(s),this.dates=i.locate(S),this.validation=i.locate(e),this.display=i.locate(T),this._eventEmitters=i.locate(b),this._eventEmitters.action.subscribe(t=>{this.do(t.e,t.action)})}do(e,i){var t;const s=null==e?void 0:e.currentTarget;if(null!==(t=null===s||void 0===s?void 0:s.classList)&&void 0!==t&&t.contains(h.css.disabled))return!1;i=i||(null===(t=null===s||void 0===s?void 0:s.dataset)||void 0===t?void 0:t.action);const o=(this.dates.lastPicked||this.optionsStore.viewDate).clone;switch(i){case p.next:case p.previous:this.handleNextPrevious(i);break;case p.changeCalendarView:this.display._showMode(1),this.display._updateCalendarHeader();break;case p.selectMonth:case p.selectYear:case p.selectDecade:var n=+s.dataset.value;switch(i){case p.selectMonth:this.optionsStore.viewDate.month=n;break;case p.selectYear:case p.selectDecade:this.optionsStore.viewDate.year=n}this.optionsStore.currentCalendarViewMode===this.optionsStore.minimumCalendarViewMode?(this.dates.setValue(this.optionsStore.viewDate,this.dates.lastPickedIndex),this.optionsStore.options.display.inline||this.display.hide()):this.display._showMode(-1);break;case p.selectDay:const r=this.optionsStore.viewDate.clone;s.classList.contains(h.css.old)&&r.manipulate(-1,d.Unit.month),s.classList.contains(h.css.new)&&r.manipulate(1,d.Unit.month),r.date=+s.dataset.day;this.optionsStore.options.multipleDates?-1!==(a=this.dates.pickedIndex(r,d.Unit.date))?this.dates.setValue(null,a):this.dates.setValue(r,this.dates.lastPickedIndex+1):this.dates.setValue(r,this.dates.lastPickedIndex),this.display._hasTime||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline||this.optionsStore.options.multipleDates||this.display.hide();break;case p.selectHour:let t=+s.dataset.value;12<=o.hours&&!this.optionsStore.options.display.components.useTwentyfourHour&&(t+=12),o.hours=t,this.dates.setValue(o,this.dates.lastPickedIndex),this.hideOrClock(e);break;case p.selectMinute:o.minutes=+s.dataset.value,this.dates.setValue(o,this.dates.lastPickedIndex),this.hideOrClock(e);break;case p.selectSecond:o.seconds=+s.dataset.value,this.dates.setValue(o,this.dates.lastPickedIndex),this.hideOrClock(e);break;case p.incrementHours:this.manipulateAndSet(o,d.Unit.hours);break;case p.incrementMinutes:this.manipulateAndSet(o,d.Unit.minutes,this.optionsStore.options.stepping);break;case p.incrementSeconds:this.manipulateAndSet(o,d.Unit.seconds);break;case p.decrementHours:this.manipulateAndSet(o,d.Unit.hours,-1);break;case p.decrementMinutes:this.manipulateAndSet(o,d.Unit.minutes,-1*this.optionsStore.options.stepping);break;case p.decrementSeconds:this.manipulateAndSet(o,d.Unit.seconds,-1);break;case p.toggleMeridiem:this.manipulateAndSet(o,d.Unit.hours,12<=this.dates.lastPicked.hours?-12:12);break;case p.togglePicker:s.getAttribute("title")===this.optionsStore.options.localization.selectDate?(s.setAttribute("title",this.optionsStore.options.localization.selectTime),s.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.time).outerHTML,this.display._updateCalendarHeader(),this.optionsStore.refreshCurrentView()):(s.setAttribute("title",this.optionsStore.options.localization.selectDate),s.innerHTML=this.display._iconTag(this.optionsStore.options.display.icons.date).outerHTML,this.display._hasTime&&(this.do(e,p.showClock),this.display._update("clock"))),this.display.widget.querySelectorAll(`.${h.css.dateContainer}, .`+h.css.timeContainer).forEach(t=>L.toggle(t)),this._eventEmitters.viewUpdate.emit();break;case p.showClock:case p.showHours:case p.showMinutes:case p.showSeconds:this.handleShowClockContainers(i);break;case p.clear:this.dates.setValue(null),this.display._updateCalendarHeader();break;case p.close:this.display.hide();break;case p.today:var a=(new l).setLocale(this.optionsStore.options.localization.locale);this.optionsStore.viewDate=a,this.validation.isValid(a,d.Unit.date)&&this.dates.setValue(a,this.dates.lastPickedIndex)}}handleShowClockContainers(e){if(this.display._hasTime){this.optionsStore.currentView="clock",this.display.widget.querySelectorAll(`.${h.css.timeContainer} > div`).forEach(t=>t.style.display="none");let t="";switch(e){case p.showClock:t=h.css.clockContainer,this.display._update("clock");break;case p.showHours:t=h.css.hourContainer,this.display._update(d.Unit.hours);break;case p.showMinutes:t=h.css.minuteContainer,this.display._update(d.Unit.minutes);break;case p.showSeconds:t=h.css.secondContainer,this.display._update(d.Unit.seconds)}this.display.widget.getElementsByClassName(t)[0].style.display="grid"}else h.errorMessages.throwError("Cannot show clock containers when time is disabled.")}handleNextPrevious(t){var{unit:e,step:i}=v[this.optionsStore.currentCalendarViewMode];t===p.next?this.optionsStore.viewDate.manipulate(i,e):this.optionsStore.viewDate.manipulate(-1*i,e),this._eventEmitters.viewUpdate.emit(),this.display._showMode()}hideOrClock(t){!this.optionsStore.options.display.components.useTwentyfourHour||this.optionsStore.options.display.components.minutes||this.optionsStore.options.display.keepOpen||this.optionsStore.options.display.inline?this.do(t,p.showClock):this.display.hide()}manipulateAndSet(t,e,i=1){t=t.manipulate(i,e);this.validation.isValid(t,e)&&this.dates.setValue(t,this.dates.lastPickedIndex)}}class U{constructor(t,e={}){this._subscribers={},this._isDisabled=!1,this._inputChangeEvent=t=>{if(!(null==t?void 0:t.detail)){t=()=>{this.dates.lastPicked&&(this.optionsStore.viewDate=this.dates.lastPicked)};const i=this.optionsStore.input.value;if(this.optionsStore.options.multipleDates)try{var e=i.split(this.optionsStore.options.multipleDatesSeparator);for(let t=0;t<e.length;t++)this.dates.setFromInput(e[t],t);t()}catch(t){console.warn("TD: Something went wrong trying to set the multipleDates values from the input field.")}else this.dates.setFromInput(i,0),t()}},this._toggleClickEvent=()=>{var t;null!==(t=this.optionsStore.element)&&void 0!==t&&t.disabled||null!==(t=this.optionsStore.input)&&void 0!==t&&t.disabled||this.toggle()},i=new y,this._eventEmitters=i.locate(b),this.optionsStore=i.locate(s),this.display=i.locate(T),this.dates=i.locate(S),this.actions=i.locate(A),t||h.errorMessages.mustProvideElement(),this.optionsStore.element=t,this._initializeOptions(e,w,!0),this.optionsStore.viewDate.setLocale(this.optionsStore.options.localization.locale),this.optionsStore.unset=!0,this._initializeInput(),this._initializeToggle(),this.optionsStore.options.display.inline&&this.display.show(),this._eventEmitters.triggerEvent.subscribe(t=>{this._triggerEvent(t)}),this._eventEmitters.viewUpdate.subscribe(()=>{this._viewUpdate()})}get viewDate(){return this.optionsStore.viewDate}updateOptions(t,e=!1){e?this._initializeOptions(t,w):this._initializeOptions(t,this.optionsStore.options),this.display._rebuild()}toggle(){this._isDisabled||this.display.toggle()}show(){this._isDisabled||this.display.show()}hide(){this.display.hide()}disable(){var t;this._isDisabled=!0,null!==(t=this.optionsStore.input)&&void 0!==t&&t.setAttribute("disabled","disabled"),this.display.hide()}enable(){var t;this._isDisabled=!1,null!==(t=this.optionsStore.input)&&void 0!==t&&t.removeAttribute("disabled")}clear(){this.optionsStore.input.value="",this.dates.clear()}subscribe(e,t){"string"==typeof e&&(e=[e]);let i;i=Array.isArray(t)?t:[t],e.length!==i.length&&h.errorMessages.subscribeMismatch();const s=[];for(let t=0;t<e.length;t++){var o=e[t];if(Array.isArray(this._subscribers[o])||(this._subscribers[o]=[]),this._subscribers[o].push(i[t]),s.push({unsubscribe:this._unsubscribe.bind(this,o,this._subscribers[o].length-1)}),1===e.length)return s[0]}return s}dispose(){var t,e;this.display.hide(),this.display._dispose(),null!==(e=this.optionsStore.input)&&void 0!==e&&e.removeEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&null!==(t=this.optionsStore.input)&&void 0!==t&&t.removeEventListener("click",this._toggleClickEvent),null!==(e=this._toggle)&&void 0!==e&&e.removeEventListener("click",this._toggleClickEvent),this._subscribers={}}locale(t){t=H[t];t&&this.updateOptions({localization:t})}_triggerEvent(t){t.viewMode=this.optionsStore.currentView;var e,i=t.type===h.events.change;if(i){const{date:s,oldDate:o,isClear:n}=t;if(s&&o&&s.isSame(o)||!n&&!s&&!o)return;this._handleAfterChangeEvent(t),null!==(e=this.optionsStore.input)&&void 0!==e&&e.dispatchEvent(new CustomEvent(t.type,{detail:t})),null!==(e=this.optionsStore.input)&&void 0!==e&&e.dispatchEvent(new CustomEvent("change",{detail:t}))}if(this.optionsStore.element.dispatchEvent(new CustomEvent(t.type,{detail:t})),window.jQuery){const a=window.jQuery;(i&&this.optionsStore.input?a(this.optionsStore.input):a(this.optionsStore.element)).trigger(t)}this._publish(t)}_publish(e){Array.isArray(this._subscribers[e.type])&&this._subscribers[e.type].forEach(t=>{t(e)})}_viewUpdate(){this._triggerEvent({type:h.events.update,viewDate:this.optionsStore.viewDate.clone})}_unsubscribe(t,e){this._subscribers[t].splice(e,1)}_initializeOptions(t,e,i=!1){let s=c.deepCopy(t);s=c._mergeOptions(s,e),i&&(s=c._dataToOptions(this.optionsStore.element,s)),c._validateConflicts(s),s.viewDate=s.viewDate.setLocale(s.localization.locale),this.optionsStore.viewDate.isSame(s.viewDate)||(this.optionsStore.viewDate=s.viewDate),s.display.components.year&&(this.optionsStore.minimumCalendarViewMode=2),s.display.components.month&&(this.optionsStore.minimumCalendarViewMode=1),s.display.components.date&&(this.optionsStore.minimumCalendarViewMode=0),this.optionsStore.currentCalendarViewMode=Math.max(this.optionsStore.minimumCalendarViewMode,this.optionsStore.currentCalendarViewMode),v[this.optionsStore.currentCalendarViewMode].name!==s.display.viewMode&&(this.optionsStore.currentCalendarViewMode=Math.max(v.findIndex(t=>t.name===s.display.viewMode),this.optionsStore.minimumCalendarViewMode)),null!==(t=this.display)&&void 0!==t&&t.isVisible&&this.display._update("all"),this.optionsStore.options=s}_initializeInput(){var t;"INPUT"==this.optionsStore.element.tagName?this.optionsStore.input=this.optionsStore.element:(t=this.optionsStore.element.dataset.tdTargetInput,this.optionsStore.input=null==t||"nearest"==t?this.optionsStore.element.querySelector("input"):this.optionsStore.element.querySelector(t)),this.optionsStore.input&&(this.optionsStore.input.addEventListener("change",this._inputChangeEvent),this.optionsStore.options.allowInputToggle&&this.optionsStore.input.addEventListener("click",this._toggleClickEvent),this.optionsStore.input.value&&this._inputChangeEvent())}_initializeToggle(){if(!this.optionsStore.options.display.inline){let t=this.optionsStore.element.dataset.tdTargetToggle;"nearest"==t&&(t='[data-td-toggle="datetimepicker"]'),this._toggle=null==t?this.optionsStore.element:this.optionsStore.element.querySelector(t),this._toggle.addEventListener("click",this._toggleClickEvent)}}_handleAfterChangeEvent(t){var e,i;!this.optionsStore.options.promptTimeOnDateChange||this.optionsStore.options.display.inline||this.optionsStore.options.display.sideBySide||!this.display._hasTime||null!==(e=this.display.widget)&&void 0!==e&&e.getElementsByClassName(h.css.show)[0].classList.contains(h.css.timeContainer)||!t.oldDate&&this.optionsStore.options.useCurrent||t.oldDate&&null!==(i=t.date)&&void 0!==i&&i.isSame(t.oldDate)||(clearTimeout(this._currentPromptTimeTimeout),this._currentPromptTimeTimeout=setTimeout(()=>{this.display.widget&&this._eventEmitters.action.emit({e:{currentTarget:this.display.widget.querySelector(`.${h.css.switch} div`)},action:p.togglePicker})},this.optionsStore.options.promptTimeOnDateChangeTransitionDelay))}}const H={};d.DateTime=l,d.DefaultOptions=w,d.Namespace=h,d.TempusDominus=U,d.extend=function(t,e){return t.$i||(t.load(e,{TempusDominus:U,Dates:S,Display:T},this),t.$i=!0),this},d.loadLocale=t=>{H[t.name]||(H[t.name]=t.localization)},d.locale=t=>{t=H[t];t&&(w.localization=t)},Object.defineProperty(d,"__esModule",{value:!0})});